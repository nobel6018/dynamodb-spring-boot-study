package com.example.dynamodbtest.comments

import com.amazonaws.services.dynamodbv2.datamodeling.*
import com.example.dynamodbtest.config.DynamoDBConfig
import java.time.OffsetDateTime

@DynamoDBTable(tableName = "Comment2")
class Comment2(
    @DynamoDBHashKey(attributeName = "id")
    @DynamoDBAutoGeneratedKey
    var id: String? = null,

    @DynamoDBAttribute
    @DynamoDBIndexHashKey(globalSecondaryIndexName = "byMentionId")
    var mentionId: Int? = null,

    @DynamoDBAttribute
    var name: String? = null,

    @DynamoDBAttribute
    var content: String? = null,

    @DynamoDBAttribute
    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.BOOL)
    var deleted: Boolean? = null,

    @DynamoDBAttribute
    @DynamoDBIndexRangeKey(globalSecondaryIndexName = "byMentionId")
    @DynamoDBTypeConverted(converter = DynamoDBConfig.OffsetDateTimeConverter::class)
    var createdAt: OffsetDateTime? = null,

    @DynamoDBAttribute
    @DynamoDBTypeConverted(converter = DynamoDBConfig.OffsetDateTimeConverter::class)
    var deletedAt: OffsetDateTime? = null,
)